"use strict";(self.webpackChunkottoman_documentation=self.webpackChunkottoman_documentation||[]).push([[8575],{8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var c=s(6540);const r={},o=c.createContext(r);function d(e){const n=c.useContext(o);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),c.createElement(o.Provider,{value:n},e.children)}},8745:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"api/classes/Ottoman","title":"Class: Ottoman","description":"Defined in81","source":"@site/docs/api/classes/Ottoman.md","sourceDirName":"api/classes","slug":"/api/classes/Ottoman","permalink":"/docs/api/classes/Ottoman","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"NumberType","permalink":"/docs/api/classes/NumberType"},"next":{"title":"Query","permalink":"/docs/api/classes/Query"}}');var r=s(4848),o=s(8453);const d={},t="Class: Ottoman",i={},l=[{value:"Constructors",id:"constructors",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"config",id:"config",level:5},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"bucket?",id:"bucket",level:3},{value:"bucketName",id:"bucketname",level:3},{value:"config",id:"config-1",level:3},{value:"couchbase",id:"couchbase",level:3},{value:"indexOnline",id:"indexonline",level:3},{value:"indexOnlinePromise",id:"indexonlinepromise",level:3},{value:"models",id:"models",level:3},{value:"Accessors",id:"accessors",level:2},{value:"bucketManager",id:"bucketmanager",level:3},{value:"Get Signature",id:"get-signature",level:4},{value:"Returns",id:"returns-1",level:5},{value:"cluster",id:"cluster",level:3},{value:"Get Signature",id:"get-signature-1",level:4},{value:"Returns",id:"returns-2",level:5},{value:"collectionManager",id:"collectionmanager",level:3},{value:"Get Signature",id:"get-signature-2",level:4},{value:"Returns",id:"returns-3",level:5},{value:"indexReadyHooks",id:"indexreadyhooks",level:3},{value:"Get Signature",id:"get-signature-3",level:4},{value:"Returns",id:"returns-4",level:5},{value:"queryIndexManager",id:"queryindexmanager",level:3},{value:"Get Signature",id:"get-signature-4",level:4},{value:"Returns",id:"returns-5",level:5},{value:"viewIndexManager",id:"viewindexmanager",level:3},{value:"Get Signature",id:"get-signature-5",level:4},{value:"Deprecated",id:"deprecated",level:5},{value:"Returns",id:"returns-6",level:5},{value:"Methods",id:"methods",level:2},{value:"$transactions()",id:"transactions",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"transactionFn",id:"transactionfn",level:5},{value:"config?",id:"config-2",level:5},{value:"Returns",id:"returns-7",level:4},{value:"Example",id:"example",level:4},{value:"close()",id:"close",level:3},{value:"Returns",id:"returns-8",level:4},{value:"Example",id:"example-1",level:4},{value:"connect()",id:"connect",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"connectOptions",id:"connectoptions",level:5},{value:"Returns",id:"returns-9",level:4},{value:"Example",id:"example-2",level:4},{value:"dropBucket()",id:"dropbucket",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"bucketName",id:"bucketname-1",level:5},{value:"options",id:"options",level:5},{value:"Returns",id:"returns-10",level:4},{value:"dropCollection()",id:"dropcollection",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"collectionName",id:"collectionname",level:5},{value:"scopeName",id:"scopename",level:5},{value:"options",id:"options-1",level:5},{value:"Returns",id:"returns-11",level:4},{value:"dropScope()",id:"dropscope",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"scopeName",id:"scopename-1",level:5},{value:"options",id:"options-2",level:5},{value:"Returns",id:"returns-12",level:4},{value:"ensureCollections()",id:"ensurecollections",level:3},{value:"Returns",id:"returns-13",level:4},{value:"ensureIndexes()",id:"ensureindexes",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"options",id:"options-3",level:5},{value:"Returns",id:"returns-14",level:4},{value:"getCollection()",id:"getcollection",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"collectionName",id:"collectionname-1",level:5},{value:"scopeName",id:"scopename-2",level:5},{value:"Returns",id:"returns-15",level:4},{value:"getIndexes()",id:"getindexes",level:3},{value:"Returns",id:"returns-16",level:4},{value:"getModel()",id:"getmodel",level:3},{value:"Type Parameters",id:"type-parameters",level:4},{value:"T",id:"t",level:5},{value:"Parameters",id:"parameters-8",level:4},{value:"name",id:"name",level:5},{value:"Returns",id:"returns-17",level:4},{value:"Example",id:"example-3",level:4},{value:"model()",id:"model",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"T",id:"t-1",level:5},{value:"R",id:"r",level:5},{value:"Parameters",id:"parameters-9",level:4},{value:"name",id:"name-1",level:5},{value:"schema",id:"schema",level:5},{value:"options",id:"options-4",level:5},{value:"Returns",id:"returns-18",level:4},{value:"Example",id:"example-4",level:4},{value:"on()",id:"on",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"event",id:"event",level:5},{value:"fn",id:"fn",level:5},{value:"Returns",id:"returns-19",level:4},{value:"query()",id:"query",level:3},{value:"Parameters",id:"parameters-11",level:4},{value:"query",id:"query-1",level:5},{value:"options",id:"options-5",level:5},{value:"Returns",id:"returns-20",level:4},{value:"Example",id:"example-5",level:4},{value:"searchQuery()",id:"searchquery",level:3},{value:"Parameters",id:"parameters-12",level:4},{value:"indexName",id:"indexname",level:5},{value:"query",id:"query-2",level:5},{value:"options?",id:"options-6",level:5},{value:"Returns",id:"returns-21",level:4},{value:"start()",id:"start",level:3},{value:"Parameters",id:"parameters-13",level:4},{value:"options",id:"options-7",level:5},{value:"Returns",id:"returns-22",level:4}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"class-ottoman",children:"Class: Ottoman"})}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L81",children:"ottoman/ottoman.ts:81"})]}),"\n",(0,r.jsx)(n.h2,{id:"constructors",children:"Constructors"}),"\n",(0,r.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"new Ottoman"}),"(",(0,r.jsx)(n.code,{children:"config"}),"): ",(0,r.jsx)(n.code,{children:"Ottoman"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L223",children:"ottoman/ottoman.ts:223"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"config",children:"config"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"OttomanConfig"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Ottoman"})}),"\n",(0,r.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(n.h3,{id:"bucket",children:"bucket?"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"optional"})," ",(0,r.jsx)(n.strong,{children:"bucket"}),": ",(0,r.jsx)(n.code,{children:"Bucket"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L152",children:"ottoman/ottoman.ts:152"})]}),"\n",(0,r.jsx)(n.p,{children:"Bucket represents a storage grouping of data within a Couchbase Server cluster."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"bucketname",children:"bucketName"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"bucketName"}),": ",(0,r.jsx)(n.code,{children:"string"})," = ",(0,r.jsx)(n.code,{children:"''"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L216",children:"ottoman/ottoman.ts:216"})]}),"\n",(0,r.jsx)(n.p,{children:"Contains the name of the current bucket."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"config-1",children:"config"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"config"}),": ",(0,r.jsx)(n.code,{children:"OttomanConfig"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L147",children:"ottoman/ottoman.ts:147"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"couchbase",children:"couchbase"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"couchbase"}),": ",(0,r.jsx)(n.code,{children:"any"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L221",children:"ottoman/ottoman.ts:221"})]}),"\n",(0,r.jsx)(n.p,{children:"Stores a reference to couchbase instance."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"indexonline",children:"indexOnline"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"indexOnline"}),": ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"Error"})," = ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L89",children:"ottoman/ottoman.ts:89"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"indexonlinepromise",children:"indexOnlinePromise"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"indexOnlinePromise"}),": ",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L90",children:"ottoman/ottoman.ts:90"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"models",children:"models"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"models"}),": ",(0,r.jsx)(n.code,{children:"object"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L202",children:"ottoman/ottoman.ts:202"})]}),"\n",(0,r.jsx)(n.p,{children:"Dictionary for all models registered on this connection."}),"\n",(0,r.jsx)(n.h2,{id:"accessors",children:"Accessors"}),"\n",(0,r.jsx)(n.h3,{id:"bucketmanager",children:"bucketManager"}),"\n",(0,r.jsx)(n.h4,{id:"get-signature",children:"Get Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"get"})," ",(0,r.jsx)(n.strong,{children:"bucketManager"}),"(): ",(0,r.jsx)(n.code,{children:"BucketManager"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L172",children:"ottoman/ottoman.ts:172"})]}),"\n",(0,r.jsx)(n.p,{children:"Gets a bucket manager for this cluster."}),"\n",(0,r.jsxs)(n.p,{children:["Check the\n",(0,r.jsx)(n.a,{href:"https://docs.couchbase.com/sdk-api/couchbase-node-client/classes/BucketManager.html",children:"Bucket Manager Couchbase SDK API"}),"\ndocumentation for more details."]}),"\n",(0,r.jsx)(n.h5,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"BucketManager"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"cluster",children:"cluster"}),"\n",(0,r.jsx)(n.h4,{id:"get-signature-1",children:"Get Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"get"})," ",(0,r.jsx)(n.strong,{children:"cluster"}),"(): ",(0,r.jsx)(n.code,{children:"Cluster"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L209",children:"ottoman/ottoman.ts:209"})]}),"\n",(0,r.jsx)(n.p,{children:"Cluster represents an entire Couchbase Server cluster."}),"\n",(0,r.jsx)(n.h5,{id:"returns-2",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Cluster"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"collectionmanager",children:"collectionManager"}),"\n",(0,r.jsx)(n.h4,{id:"get-signature-2",children:"Get Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"get"})," ",(0,r.jsx)(n.strong,{children:"collectionManager"}),"(): ",(0,r.jsx)(n.code,{children:"CollectionManager"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L161",children:"ottoman/ottoman.ts:161"})]}),"\n",(0,r.jsx)(n.p,{children:"CollectionManager allows the management of collections within a Bucket."}),"\n",(0,r.jsxs)(n.p,{children:["Check the\n",(0,r.jsx)(n.a,{href:"https://docs.couchbase.com/sdk-api/couchbase-node-client/classes/CollectionManager.html",children:"Collection Manager Couchbase SDK API"}),"\ndocumentation for more details."]}),"\n",(0,r.jsx)(n.h5,{id:"returns-3",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"CollectionManager"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"indexreadyhooks",children:"indexReadyHooks"}),"\n",(0,r.jsx)(n.h4,{id:"get-signature-3",children:"Get Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"get"})," ",(0,r.jsx)(n.strong,{children:"indexReadyHooks"}),"(): ",(0,r.jsx)(n.code,{children:"NodeCallback"}),"<",(0,r.jsx)(n.code,{children:"Ottoman"}),">[]"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L95",children:"ottoman/ottoman.ts:95"})]}),"\n",(0,r.jsx)(n.p,{children:'Retrieve all register callbacks to "IndexOnline" event'}),"\n",(0,r.jsx)(n.h5,{id:"returns-4",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NodeCallback"}),"<",(0,r.jsx)(n.code,{children:"Ottoman"}),">[]"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"queryindexmanager",children:"queryIndexManager"}),"\n",(0,r.jsx)(n.h4,{id:"get-signature-4",children:"Get Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"get"})," ",(0,r.jsx)(n.strong,{children:"queryIndexManager"}),"(): ",(0,r.jsx)(n.code,{children:"QueryIndexManager"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L183",children:"ottoman/ottoman.ts:183"})]}),"\n",(0,r.jsx)(n.p,{children:"QueryIndexManager provides an interface for managing the query indexes on the cluster."}),"\n",(0,r.jsxs)(n.p,{children:["Check the\n",(0,r.jsx)(n.a,{href:"https://docs.couchbase.com/sdk-api/couchbase-node-client/classes/QueryIndexManager.html",children:"Query Index Manager Couchbase SDK API"}),"\ndocumentation for more details."]}),"\n",(0,r.jsx)(n.h5,{id:"returns-5",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"QueryIndexManager"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"viewindexmanager",children:"viewIndexManager"}),"\n",(0,r.jsx)(n.h4,{id:"get-signature-5",children:"Get Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"get"})," ",(0,r.jsx)(n.strong,{children:"viewIndexManager"}),"(): ",(0,r.jsx)(n.code,{children:"ViewIndexManager"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L195",children:"ottoman/ottoman.ts:195"})]}),"\n",(0,r.jsx)(n.p,{children:"ViewIndexManager is an interface which enables the management of view indexes on the cluster."}),"\n",(0,r.jsx)(n.h5,{id:"deprecated",children:"Deprecated"}),"\n",(0,r.jsxs)(n.p,{children:["Check the\n",(0,r.jsx)(n.a,{href:"https://docs.couchbase.com/sdk-api/couchbase-node-client/classes/ViewIndexManager.html",children:"View Index Manager Couchbase SDK API"}),"\ndocumentation for more details."]}),"\n",(0,r.jsx)(n.h5,{id:"returns-6",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"ViewIndexManager"})}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"transactions",children:"$transactions()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"$transactions"}),"(",(0,r.jsx)(n.code,{children:"transactionFn"}),", ",(0,r.jsx)(n.code,{children:"config?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L517",children:"ottoman/ottoman.ts:517"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"$transactions"})," function passes a ",(0,r.jsx)(n.code,{children:"TransactionAttemptContext"})," object to the transaction function."]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"transactionfn",children:"transactionFn"}),"\n",(0,r.jsxs)(n.p,{children:["(",(0,r.jsx)(n.code,{children:"attempt"}),") => ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.p,{children:"The function to be executed as a transaction."}),"\n",(0,r.jsx)(n.h5,{id:"config-2",children:"config?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"TransactionOptions"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"durabilityLevel"}),": Specifies the level of synchronous durability level."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"timeout"}),": Specifies the timeout for the transaction."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"returns-7",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'await otttoman.$transactions(async (ctx: TransactionAttemptContext) => {\n const user = await User.create({ name: "John Doe" }, { transactionContext: ctx });\n});\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Notice: You ",(0,r.jsxs)(n.strong,{children:["MUST pass the ",(0,r.jsx)(n.code,{children:"transactionContext"})," option in the model methods"]})," to execute the operation(s) as a transaction."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"close",children:"close()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"close"}),"(): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L379",children:"ottoman/ottoman.ts:379"})]}),"\n",(0,r.jsx)(n.p,{children:"Closes the current connection."}),"\n",(0,r.jsx)(n.h4,{id:"returns-8",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"connection.close().then(() => console.log('connection closed'));\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"connect",children:"connect()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"connect"}),"(",(0,r.jsx)(n.code,{children:"connectOptions"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Ottoman"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L244",children:"ottoman/ottoman.ts:244"})]}),"\n",(0,r.jsx)(n.p,{children:"Connect to Couchbase server."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"connectoptions",children:"connectOptions"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"string"})," | ",(0,r.jsx)(n.code,{children:"ConnectOptions"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-9",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Ottoman"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-2",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:' import { connect } from "ottoman";\n const connection = connect("couchbase://localhost/travel-sample@admin:password");\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"dropbucket",children:"dropBucket()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"dropBucket"}),"(",(0,r.jsx)(n.code,{children:"bucketName"}),", ",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L329",children:"ottoman/ottoman.ts:329"})]}),"\n",(0,r.jsx)(n.p,{children:"dropBucket drops a bucket from the cluster."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"bucketname-1",children:"bucketName"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"options",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"DropBucketOptions"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-10",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"dropcollection",children:"dropCollection()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"dropCollection"}),"(",(0,r.jsx)(n.code,{children:"collectionName"}),", ",(0,r.jsx)(n.code,{children:"scopeName"}),", ",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L299",children:"ottoman/ottoman.ts:299"})]}),"\n",(0,r.jsx)(n.p,{children:"dropCollection drops a collection from a scope in a bucket."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"collectionname",children:"collectionName"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"scopename",children:"scopeName"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"options-1",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"DropCollectionOptions"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-11",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"dropscope",children:"dropScope()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"dropScope"}),"(",(0,r.jsx)(n.code,{children:"scopeName"}),", ",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L316",children:"ottoman/ottoman.ts:316"})]}),"\n",(0,r.jsx)(n.p,{children:"dropScope drops a scope from a bucket."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"scopename-1",children:"scopeName"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"options-2",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"DropScopeOptions"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-12",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"})," | ",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ensurecollections",children:"ensureCollections()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ensureCollections"}),"(): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L427",children:"ottoman/ottoman.ts:427"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ensureCollections"})," will attempt to create scopes and collections to map your models to in Couchbase Server."]}),"\n",(0,r.jsx)(n.h4,{id:"returns-13",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ensureindexes",children:"ensureIndexes()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ensureIndexes"}),"(",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L479",children:"ottoman/ottoman.ts:479"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ensureIndexes"})," will attempt to create indexes defined in your schema if they do not exist.\n*"]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-6",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"options-3",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"EnsureIndexesOptions"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ignoreWatchIndexes"}),": by default ",(0,r.jsx)(n.code,{children:"ensureIndexes"})," function will wait for indexes, but you can disabled it setting ignoreWatchIndexes to true."]}),"\n",(0,r.jsx)(n.h4,{id:"returns-14",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getcollection",children:"getCollection()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getCollection"}),"(",(0,r.jsx)(n.code,{children:"collectionName"}),", ",(0,r.jsx)(n.code,{children:"scopeName"}),"): ",(0,r.jsx)(n.code,{children:"Collection"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L353",children:"ottoman/ottoman.ts:353"})]}),"\n",(0,r.jsx)(n.p,{children:"Return a collection from the given collectionName in this bucket\nor default collection if collectionName is missing."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-7",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"collectionname-1",children:"collectionName"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"string"})," = ",(0,r.jsx)(n.code,{children:"DEFAULT_COLLECTION"})]}),"\n",(0,r.jsx)(n.h5,{id:"scopename-2",children:"scopeName"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"string"})," = ",(0,r.jsx)(n.code,{children:"DEFAULT_SCOPE"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-15",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Collection"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getindexes",children:"getIndexes()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getIndexes"}),"(): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"SearchIndex"}),"[]>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L359",children:"ottoman/ottoman.ts:359"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-16",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"SearchIndex"}),"[]>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"getmodel",children:"getModel()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"getModel"}),"<",(0,r.jsx)(n.code,{children:"T"}),">(",(0,r.jsx)(n.code,{children:"name"}),"): ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/ModelTypes",children:(0,r.jsx)(n.code,{children:"ModelTypes"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L345",children:"ottoman/ottoman.ts:345"})]}),"\n",(0,r.jsx)(n.p,{children:"Returns a Model constructor from the given model name."}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"t",children:"T"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," = ",(0,r.jsx)(n.code,{children:"any"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-8",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"name",children:"name"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-17",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/ModelTypes",children:(0,r.jsx)(n.code,{children:"ModelTypes"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-3",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const User = connection.getModel('User');\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"model",children:"model()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"model"}),"<",(0,r.jsx)(n.code,{children:"T"}),", ",(0,r.jsx)(n.code,{children:"R"}),">(",(0,r.jsx)(n.code,{children:"name"}),", ",(0,r.jsx)(n.code,{children:"schema"}),", ",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/ModelTypes",children:(0,r.jsx)(n.code,{children:"ModelTypes"})}),"<",(0,r.jsx)(n.code,{children:"T"}),", ",(0,r.jsx)(n.code,{children:"R"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L262",children:"ottoman/ottoman.ts:262"})]}),"\n",(0,r.jsx)(n.p,{children:"Creates a Model on this connection."}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"t-1",children:"T"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," = ",(0,r.jsx)(n.code,{children:"any"})]}),"\n",(0,r.jsx)(n.h5,{id:"r",children:"R"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"R"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-9",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"name-1",children:"name"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"schema",children:"schema"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/classes/Schema",children:(0,r.jsx)(n.code,{children:"Schema"})})," | ",(0,r.jsx)(n.code,{children:"Record"}),"<",(0,r.jsx)(n.code,{children:"string"}),", ",(0,r.jsx)(n.code,{children:"unknown"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"options-4",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/interfaces/ModelOptions",children:(0,r.jsx)(n.code,{children:"ModelOptions"})})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-18",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/ModelTypes",children:(0,r.jsx)(n.code,{children:"ModelTypes"})}),"<",(0,r.jsx)(n.code,{children:"T"}),", ",(0,r.jsx)(n.code,{children:"R"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-4",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const User = connection.model('User', { name: String }, { collectionName: 'users' });\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"on",children:"on()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"on"}),"(",(0,r.jsx)(n.code,{children:"event"}),", ",(0,r.jsx)(n.code,{children:"fn"}),"): ",(0,r.jsx)(n.code,{children:"void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L104",children:"ottoman/ottoman.ts:104"})]}),"\n",(0,r.jsx)(n.p,{children:"Register Ottoman events"}),"\n",(0,r.jsx)(n.h4,{id:"parameters-10",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"event",children:"event"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:'"IndexOnline"'})}),"\n",(0,r.jsx)(n.p,{children:"the name of the event you want to listen to."}),"\n",(0,r.jsx)(n.h5,{id:"fn",children:"fn"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NodeCallback"}),"<",(0,r.jsx)(n.code,{children:"Ottoman"}),">"]}),"\n",(0,r.jsx)(n.p,{children:"callback function to be executed when the event trigger up."}),"\n",(0,r.jsx)(n.h4,{id:"returns-19",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"query",children:"query()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"query"}),"(",(0,r.jsx)(n.code,{children:"query"}),", ",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"TransactionQueryResult"}),"<",(0,r.jsx)(n.code,{children:"any"}),"> | ",(0,r.jsx)(n.code,{children:"QueryResult"}),"<",(0,r.jsx)(n.code,{children:"any"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L417",children:"ottoman/ottoman.ts:417"})]}),"\n",(0,r.jsx)(n.p,{children:"Executes N1QL Queries."}),"\n",(0,r.jsxs)(n.p,{children:["Ottoman provides a powerful ",(0,r.jsx)(n.a,{href:"docs/basic/query-builder",children:"Query Builder"})," system to create valid N1QL queries using method chaining.\nSee the example below:"]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-11",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"query-1",children:"query"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"options-5",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"QueryOptions"})," & ",(0,r.jsx)(n.code,{children:"object"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsx)(n.h4,{id:"returns-20",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"TransactionQueryResult"}),"<",(0,r.jsx)(n.code,{children:"any"}),"> | ",(0,r.jsx)(n.code,{children:"QueryResult"}),"<",(0,r.jsx)(n.code,{children:"any"}),">>"]}),"\n",(0,r.jsx)(n.h4,{id:"example-5",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const expr_where = {\n  $or: [\n    { address: { $like: '%57-59%' } },\n    { free_breakfast: true }\n  ]\n};\nconst query = new Query({}, 'travel-sample');\nconst n1qlQuery = query.select([{ $field: 'address' }])\n   .where(expr_where)\n   .build()\n\nconnection.query(n1qlQuery).then(result => console.log( result ))\n"})}),"\n",(0,r.jsx)(n.p,{children:"The above example will run this query:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT address\nFROM `travel-sample`\nWHERE (address LIKE '%57-59%' OR free_breakfast = true)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"searchquery",children:"searchQuery()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"searchQuery"}),"(",(0,r.jsx)(n.code,{children:"indexName"}),", ",(0,r.jsx)(n.code,{children:"query"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"StreamableRowPromise"}),"<",(0,r.jsx)(n.code,{children:"SearchResult"}),", ",(0,r.jsx)(n.code,{children:"SearchRow"}),", ",(0,r.jsx)(n.code,{children:"SearchMetaData"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L363",children:"ottoman/ottoman.ts:363"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-12",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"indexname",children:"indexName"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"query-2",children:"query"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"SearchQuery"})}),"\n",(0,r.jsx)(n.h5,{id:"options-6",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"SearchQueryOptions"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-21",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"StreamableRowPromise"}),"<",(0,r.jsx)(n.code,{children:"SearchResult"}),", ",(0,r.jsx)(n.code,{children:"SearchRow"}),", ",(0,r.jsx)(n.code,{children:"SearchMetaData"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"start",children:"start()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"start"}),"(",(0,r.jsx)(n.code,{children:"options"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/ottoman/ottoman.ts#L495",children:"ottoman/ottoman.ts:495"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"start"})," method is just a shortcut to run ",(0,r.jsx)(n.code,{children:"ensureCollections"})," and ",(0,r.jsx)(n.code,{children:"ensureIndexes"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-13",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"options-7",children:"options"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"StartOptions"})," = ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ignoreWatchIndexes"}),": by default ",(0,r.jsx)(n.code,{children:"start"})," function will wait for indexes, but you can disabled it setting ignoreWatchIndexes to true."]}),"\n",(0,r.jsxs)(n.p,{children:["Notice: It's not required to execute the ",(0,r.jsx)(n.code,{children:"start"})," method in order for Ottoman work."]}),"\n",(0,r.jsx)(n.h4,{id:"returns-22",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"void"}),">"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);