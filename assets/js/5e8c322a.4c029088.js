"use strict";(self.webpackChunkottoman_documentation=self.webpackChunkottoman_documentation||[]).push([[7597],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(n),d=o,h=m["".concat(s,".").concat(d)]||m[d]||c[d]||r;return n?a.createElement(h,l(l({ref:t},u),{},{components:n})):a.createElement(h,l({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7926:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=n(7462),o=(n(7294),n(3905));const r={id:"index",title:"ottoman",sidebar_label:"Readme",sidebar_position:0,custom_edit_url:null},l=void 0,i={unversionedId:"api/index",id:"api/index",title:"ottoman",description:"CI",source:"@site/docs/api/index.md",sourceDirName:"api",slug:"/api/",permalink:"/docs/api/",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"index",title:"ottoman",sidebar_label:"Readme",sidebar_position:0,custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Building Your First App",permalink:"/docs/first-app"},next:{title:"Exports",permalink:"/docs/api/modules"}},s={},p=[{value:"Installation",id:"installation",level:2},{value:"Dependencies Matrix",id:"dependencies-matrix",level:3},{value:"Getting started",id:"getting-started",level:2},{value:"Ottoman v2 main goals",id:"ottoman-v2-main-goals",level:2},{value:"Documentation",id:"documentation",level:2},{value:"Questions",id:"questions",level:2},{value:"Changelog",id:"changelog",level:2},{value:"Stay In Touch",id:"stay-in-touch",level:2},{value:"Contributions",id:"contributions",level:2},{value:"Guide for Developers",id:"guide-for-developers",level:3},{value:"Deploying Ottoman to NPM",id:"deploying-ottoman-to-npm",level:2},{value:"Publishing to NPM",id:"publishing-to-npm",level:2},{value:"License",id:"license",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://github.com/couchbaselabs/node-ottoman/workflows/CI/badge.svg",alt:"CI"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://codecov.io/gh/couchbaselabs/node-ottoman"},(0,o.kt)("img",{parentName:"a",src:"https://codecov.io/gh/couchbaselabs/node-ottoman/branch/master/graph/badge.svg",alt:"codecov"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://badge.fury.io/js/ottoman"},(0,o.kt)("img",{parentName:"a",src:"https://badge.fury.io/js/ottoman.svg",alt:"npm version"})),"\n",(0,o.kt)("a",{parentName:"p",href:"http://commitizen.github.io/cz-cli/"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/commitizen-friendly-brightgreen.svg",alt:"Commitizen friendly"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://opensource.org/licenses/Apache-2.0"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/License-Apache%202.0-blue.svg",alt:"License"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/semantic-release/semantic-release"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg",alt:"semantic-release"}))),(0,o.kt)("h1",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"Ottoman is an ODM built for Couchbase and Node.js."),(0,o.kt)("p",null,"Ottoman's goal is to provide a better development experience while using Couchbase,\nbringing to developers a reliable tool to build systems that are easy to design, maintain, and scale."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install ottoman\n")),(0,o.kt)("p",null,"That's it, you are ready to use Ottoman."),(0,o.kt)("h3",{id:"dependencies-matrix"},"Dependencies Matrix"),(0,o.kt)("p",null,"Supported version are:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Ottoman"),(0,o.kt)("th",{parentName:"tr",align:null},"Nodejs"),(0,o.kt)("th",{parentName:"tr",align:null},"Couchbase SDK"),(0,o.kt)("th",{parentName:"tr",align:null},"Couchbase Server"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"^2.0.0"),(0,o.kt)("td",{parentName:"tr",align:null},"^8.0.0"),(0,o.kt)("td",{parentName:"tr",align:null},"^3.2.2"),(0,o.kt)("td",{parentName:"tr",align:null},"^6.5.0")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Notice: make sure you are using supported versions"))),(0,o.kt)("h2",{id:"getting-started"},"Getting started"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const { connect, model, start, close } = require('ottoman');\n\nconst main = async () => {\n  await connect(\"couchbase://localhost/travel-sample@admin:password\");\n\n  const User = model('User', { name: String });\n\n  const user = new User({ name: 'Jane Doe' });\n\n  await start();\n\n  await user.save();\n  console.log('Nice Job!');\n\n  await close();\n}\n\nmain();\n")),(0,o.kt)("p",null,"You should see results similar to the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Nice Job!\n")),(0,o.kt)("p",null,"::: tip Note\nIf you are using the legacy version of Ottoman, check out the ",(0,o.kt)("a",{parentName:"p",href:"https://v1.ottomanjs.com/"},"V1 docs"),".\n:::"),(0,o.kt)("h2",{id:"ottoman-v2-main-goals"},"Ottoman v2 main goals"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To add support to Couchbase SDK 3."),(0,o.kt)("li",{parentName:"ul"},"To add typescript support."),(0,o.kt)("li",{parentName:"ul"},"To have a powerful query builder built-in."),(0,o.kt)("li",{parentName:"ul"},"To allow adding indexes to improve queries performance."),(0,o.kt)("li",{parentName:"ul"},"To have extendable Schemas using statics, methods, hooks."),(0,o.kt)("li",{parentName:"ul"},"To have Pluggable Schemas.")),(0,o.kt)("h2",{id:"documentation"},"Documentation"),(0,o.kt)("p",null,"Checkout our ",(0,o.kt)("a",{parentName:"p",href:"https://ottomanjs.com/guides/first-app.html"},"examples"),"  and ",(0,o.kt)("a",{parentName:"p",href:"https://ottomanjs.com/guides/quick-start.html"},"docs")," for typescript and javascript implementation."),(0,o.kt)("h2",{id:"questions"},"Questions"),(0,o.kt)("p",null,"For questions and support please use ",(0,o.kt)("a",{parentName:"p",href:"https://forums.couchbase.com/"},"the official forum")," or ",(0,o.kt)("a",{parentName:"p",href:"http://couchbase.com/communities/nodejs"},"contact community"),".\nPlease make sure to read the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/couchbaselabs/node-ottoman/issues"},"Issue Reporting Checklist")," before opening an issue."),(0,o.kt)("h2",{id:"changelog"},"Changelog"),(0,o.kt)("p",null,"Detailed changes for each release are documented in the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.couchbase.com/nodejs-sdk/current/project-docs/ottoman-release-notes.html"},"release notes"),"."),(0,o.kt)("h2",{id:"stay-in-touch"},"Stay In Touch"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://blog.couchbase.com/?s=ottoman"},"Blog"))),(0,o.kt)("h2",{id:"contributions"},"Contributions"),(0,o.kt)("p",null,"Thank you to all the people who already contributed to Couchbase Ottoman!"),(0,o.kt)("h3",{id:"guide-for-developers"},"Guide for Developers"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://docs.couchbase.com/server/current/install/getting-started-docker.html"},"Install Couchbase Server Using Docker"),".")),(0,o.kt)("p",null,"::: tip Note\nCheck results on ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8091/"},"http://localhost:8091/")," couchbase web client.\n:::"),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Get the repo and install dependencies")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ git clone https://github.com/couchbaselabs/node-ottoman.git\n$ cd node-ottoman\n$ yarn install\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Available scripts")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ yarn dev\n$ yarn build\n$ yarn lint\n$ yarn test\n$ yarn test --coverage\n$ yarn docs\n$ yarn docs:dev\n")),(0,o.kt)("h2",{id:"deploying-ottoman-to-npm"},"Deploying Ottoman to NPM"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Pull master branch from repo"),(0,o.kt)("li",{parentName:"ul"},"yarn install"),(0,o.kt)("li",{parentName:"ul"},"ensure version number is bumped"),(0,o.kt)("li",{parentName:"ul"},"yarn build"),(0,o.kt)("li",{parentName:"ul"},"yarn is:ready")),(0,o.kt)("h2",{id:"publishing-to-npm"},"Publishing to NPM"),(0,o.kt)("p",null,"When publishing a new package to NPM, please follow the following steps:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"git pull (master branch)"),(0,o.kt)("li",{parentName:"ul"},"update the ",(0,o.kt)("inlineCode",{parentName:"li"},"package.json")," file w/ new version"),(0,o.kt)("li",{parentName:"ul"},"yarn install && yarn build"),(0,o.kt)("li",{parentName:"ul"},"yarn test:legacy (Use ",(0,o.kt)("inlineCode",{parentName:"li"},"test:legacy")," Until CB 7 Release)"),(0,o.kt)("li",{parentName:"ul"},"yarn pack (ensure package is packing as intended)"),(0,o.kt)("li",{parentName:"ul"},"npm publish (--tag alpha or --tag beta)"),(0,o.kt)("li",{parentName:"ul"},"push changes to ",(0,o.kt)("inlineCode",{parentName:"li"},"package.json")," file w/ new version"),(0,o.kt)("li",{parentName:"ul"},"deploy docs *if required")),(0,o.kt)("p",null,"Once package is published, *update the docs:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"yarn docs:dev (preview site)"),(0,o.kt)("li",{parentName:"ul"},"yarn docs (generate docs directory)"),(0,o.kt)("li",{parentName:"ul"},"copy files in ",(0,o.kt)("inlineCode",{parentName:"li"},"docs/.vuepress/dist")," to ottomanjs-site"),(0,o.kt)("li",{parentName:"ul"},"ensure CNAME file is correct"),(0,o.kt)("li",{parentName:"ul"},"git push changes to ottomanjs-site")),(0,o.kt)("h2",{id:"license"},"License"),(0,o.kt)("p",null,"\xa9 Copyright 2021 Couchbase Inc."),(0,o.kt)("p",null,"Licensed under the Apache License, Version 2.0.\nSee ",(0,o.kt)("a",{parentName:"p",href:"http://www.apache.org/licenses/LICENSE-2.0"},"the Apache 2.0 license"),"."))}c.isMDXComponent=!0}}]);