"use strict";(self.webpackChunkottoman_documentation=self.webpackChunkottoman_documentation||[]).push([[4445],{1128:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>t});const d=JSON.parse('{"id":"api/interfaces/IModel","title":"Interface: IModel\\\\<T, R\\\\>","description":"Defined in24","source":"@site/docs/api/interfaces/IModel.md","sourceDirName":"api/interfaces","slug":"/api/interfaces/IModel","permalink":"/docs/api/interfaces/IModel","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"IManyQueryResponse","permalink":"/docs/api/interfaces/IManyQueryResponse"},"next":{"title":"IStatusExecution","permalink":"/docs/api/interfaces/IStatusExecution"}}');var r=s(4848),l=s(8453);const i={},c="Interface: IModel<T, R>",a={},t=[{value:"Example",id:"example",level:2},{value:"Type Parameters",id:"type-parameters",level:2},{value:"T",id:"t",level:3},{value:"R",id:"r",level:3},{value:"Constructors",id:"constructors",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"data",id:"data",level:5},{value:"options?",id:"options",level:5},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"collectionName",id:"collectionname",level:3},{value:"Example",id:"example-1",level:4},{value:"namespace",id:"namespace",level:3},{value:"Example",id:"example-2",level:4},{value:"Methods",id:"methods",level:2},{value:"count()",id:"count",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"filter?",id:"filter",level:5},{value:"options?",id:"options-1",level:5},{value:"Returns",id:"returns-1",level:4},{value:"Example",id:"example-3",level:4},{value:"create()",id:"create",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Doc",id:"doc",level:5},{value:"Parameters",id:"parameters-2",level:4},{value:"doc",id:"doc-1",level:5},{value:"options?",id:"options-2",level:5},{value:"Returns",id:"returns-2",level:4},{value:"Example",id:"example-4",level:4},{value:"createMany()",id:"createmany",level:3},{value:"Type Parameters",id:"type-parameters-2",level:4},{value:"Doc",id:"doc-2",level:5},{value:"Result",id:"result",level:5},{value:"Parameters",id:"parameters-3",level:4},{value:"docs",id:"docs",level:5},{value:"options?",id:"options-3",level:5},{value:"Returns",id:"returns-3",level:4},{value:"Example",id:"example-5",level:4},{value:"dropCollection()",id:"dropcollection",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"collectionName?",id:"collectionname-1",level:5},{value:"scopeName?",id:"scopename",level:5},{value:"options?",id:"options-4",level:5},{value:"timeout?",id:"timeout",level:6},{value:"Returns",id:"returns-4",level:4},{value:"find()",id:"find",level:3},{value:"Type Parameters",id:"type-parameters-3",level:4},{value:"Doc",id:"doc-3",level:5},{value:"Parameters",id:"parameters-5",level:4},{value:"filter?",id:"filter-1",level:5},{value:"options?",id:"options-5",level:5},{value:"Returns",id:"returns-5",level:4},{value:"Example",id:"example-6",level:4},{value:"findById()",id:"findbyid",level:3},{value:"Call Signature",id:"call-signature",level:4},{value:"Type Parameters",id:"type-parameters-4",level:5},{value:"Result",id:"result-1",level:6},{value:"Parameters",id:"parameters-6",level:5},{value:"id",id:"id",level:6},{value:"options?",id:"options-6",level:6},{value:"Returns",id:"returns-6",level:5},{value:"Example",id:"example-7",level:5},{value:"Call Signature",id:"call-signature-1",level:4},{value:"Type Parameters",id:"type-parameters-5",level:5},{value:"Result",id:"result-2",level:6},{value:"Parameters",id:"parameters-7",level:5},{value:"id",id:"id-1",level:6},{value:"options?",id:"options-7",level:6},{value:"Returns",id:"returns-7",level:5},{value:"findOne()",id:"findone",level:3},{value:"Call Signature",id:"call-signature-2",level:4},{value:"Type Parameters",id:"type-parameters-6",level:5},{value:"Doc",id:"doc-4",level:6},{value:"Result",id:"result-3",level:6},{value:"Parameters",id:"parameters-8",level:5},{value:"filter?",id:"filter-2",level:6},{value:"options?",id:"options-8",level:6},{value:"Returns",id:"returns-8",level:5},{value:"Example",id:"example-8",level:5},{value:"Call Signature",id:"call-signature-3",level:4},{value:"Type Parameters",id:"type-parameters-7",level:5},{value:"Doc",id:"doc-5",level:6},{value:"Result",id:"result-4",level:6},{value:"Parameters",id:"parameters-9",level:5},{value:"filter?",id:"filter-3",level:6},{value:"options?",id:"options-9",level:6},{value:"Returns",id:"returns-9",level:5},{value:"findOneAndRemove()",id:"findoneandremove",level:3},{value:"Call Signature",id:"call-signature-4",level:4},{value:"Type Parameters",id:"type-parameters-8",level:5},{value:"Query",id:"query",level:6},{value:"Result",id:"result-5",level:6},{value:"Parameters",id:"parameters-10",level:5},{value:"filter?",id:"filter-4",level:6},{value:"Returns",id:"returns-10",level:5},{value:"Example",id:"example-9",level:5},{value:"Call Signature",id:"call-signature-5",level:4},{value:"Type Parameters",id:"type-parameters-9",level:5},{value:"Query",id:"query-1",level:6},{value:"Result",id:"result-6",level:6},{value:"Parameters",id:"parameters-11",level:5},{value:"filter?",id:"filter-5",level:6},{value:"Returns",id:"returns-11",level:5},{value:"findOneAndUpdate()",id:"findoneandupdate",level:3},{value:"Call Signature",id:"call-signature-6",level:4},{value:"Type Parameters",id:"type-parameters-10",level:5},{value:"Query",id:"query-2",level:6},{value:"Result",id:"result-7",level:6},{value:"Parameters",id:"parameters-12",level:5},{value:"filter?",id:"filter-6",level:6},{value:"doc?",id:"doc-6",level:6},{value:"options?",id:"options-10",level:6},{value:"Returns",id:"returns-12",level:5},{value:"Examples",id:"examples",level:5},{value:"Throws",id:"throws",level:5},{value:"Call Signature",id:"call-signature-7",level:4},{value:"Type Parameters",id:"type-parameters-11",level:5},{value:"Query",id:"query-3",level:6},{value:"Result",id:"result-8",level:6},{value:"Parameters",id:"parameters-13",level:5},{value:"filter?",id:"filter-7",level:6},{value:"doc?",id:"doc-7",level:6},{value:"options?",id:"options-11",level:6},{value:"Returns",id:"returns-13",level:5},{value:"fromData()",id:"fromdata",level:3},{value:"Parameters",id:"parameters-14",level:4},{value:"data",id:"data-1",level:5},{value:"Returns",id:"returns-14",level:4},{value:"Example",id:"example-10",level:4},{value:"query()",id:"query-4",level:3},{value:"Parameters",id:"parameters-15",level:4},{value:"params",id:"params",level:5},{value:"Returns",id:"returns-15",level:4},{value:"Example",id:"example-11",level:4},{value:"removeById()",id:"removebyid",level:3},{value:"Parameters",id:"parameters-16",level:4},{value:"id",id:"id-2",level:5},{value:"options?",id:"options-12",level:5},{value:"Returns",id:"returns-16",level:4},{value:"Example",id:"example-12",level:4},{value:"removeMany()",id:"removemany",level:3},{value:"Type Parameters",id:"type-parameters-12",level:4},{value:"Doc",id:"doc-8",level:5},{value:"Result",id:"result-9",level:5},{value:"Parameters",id:"parameters-17",level:4},{value:"filter?",id:"filter-8",level:5},{value:"options?",id:"options-13",level:5},{value:"Returns",id:"returns-17",level:4},{value:"Example",id:"example-13",level:4},{value:"replaceById()",id:"replacebyid",level:3},{value:"Call Signature",id:"call-signature-8",level:4},{value:"Type Parameters",id:"type-parameters-13",level:5},{value:"Doc",id:"doc-9",level:6},{value:"Result",id:"result-10",level:6},{value:"Parameters",id:"parameters-18",level:5},{value:"id",id:"id-3",level:6},{value:"data",id:"data-2",level:6},{value:"options?",id:"options-14",level:6},{value:"Returns",id:"returns-18",level:5},{value:"Examples",id:"examples-1",level:5},{value:"Throws",id:"throws-1",level:5},{value:"Throws",id:"throws-2",level:5},{value:"Call Signature",id:"call-signature-9",level:4},{value:"Type Parameters",id:"type-parameters-14",level:5},{value:"Doc",id:"doc-10",level:6},{value:"Result",id:"result-11",level:6},{value:"Parameters",id:"parameters-19",level:5},{value:"id",id:"id-4",level:6},{value:"data",id:"data-3",level:6},{value:"options?",id:"options-15",level:6},{value:"Returns",id:"returns-19",level:5},{value:"updateById()",id:"updatebyid",level:3},{value:"Call Signature",id:"call-signature-10",level:4},{value:"Type Parameters",id:"type-parameters-15",level:5},{value:"Doc",id:"doc-11",level:6},{value:"Result",id:"result-12",level:6},{value:"Parameters",id:"parameters-20",level:5},{value:"id",id:"id-5",level:6},{value:"data",id:"data-4",level:6},{value:"options?",id:"options-16",level:6},{value:"Returns",id:"returns-20",level:5},{value:"Examples",id:"examples-2",level:5},{value:"Throws",id:"throws-3",level:5},{value:"Call Signature",id:"call-signature-11",level:4},{value:"Type Parameters",id:"type-parameters-16",level:5},{value:"Doc",id:"doc-12",level:6},{value:"Result",id:"result-13",level:6},{value:"Parameters",id:"parameters-21",level:5},{value:"id",id:"id-6",level:6},{value:"data",id:"data-5",level:6},{value:"options?",id:"options-17",level:6},{value:"Returns",id:"returns-21",level:5},{value:"updateMany()",id:"updatemany",level:3},{value:"Type Parameters",id:"type-parameters-17",level:4},{value:"Query",id:"query-5",level:5},{value:"Result",id:"result-14",level:5},{value:"Parameters",id:"parameters-22",level:4},{value:"filter?",id:"filter-9",level:5},{value:"doc?",id:"doc-13",level:5},{value:"options?",id:"options-18",level:5},{value:"Returns",id:"returns-22",level:4},{value:"Examples",id:"examples-3",level:4}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"interface-imodelt-r",children:"Interface: IModel<T, R>"})}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L24",children:"model/model.ts:24"})]}),"\n",(0,r.jsx)(n.p,{children:"Constructor to build a model instance based on schema and options.\nProvides methods to handle documents of the current collection in the database."}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'import { connect, model } from "ottoman";\nconnect("couchbase://localhost/travel-sample@admin:password");\n\n// Create an `User` model\nconst User = model(\'User\', { name: String });\n'})}),"\n",(0,r.jsx)(n.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h3,{id:"t",children:"T"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," = ",(0,r.jsx)(n.code,{children:"any"})]}),"\n",(0,r.jsx)(n.h3,{id:"r",children:"R"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"R"})," = ",(0,r.jsx)(n.code,{children:"any"})]}),"\n",(0,r.jsx)(n.h2,{id:"constructors",children:"Constructors"}),"\n",(0,r.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"new IModel"}),"(",(0,r.jsx)(n.code,{children:"data"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L29",children:"model/model.ts:29"})]}),"\n",(0,r.jsx)(n.p,{children:"Creates a document from this model.\nImplements schema validations, defaults, methods, static and hooks"}),"\n",(0,r.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"data",children:"data"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"T"})}),"\n",(0,r.jsx)(n.h5,{id:"options",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"CastOptions"})}),"\n",(0,r.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(n.h3,{id:"collectionname",children:"collectionName"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"collectionName"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L523",children:"model/model.ts:523"})]}),"\n",(0,r.jsx)(n.p,{children:"Return string value with the model collection name"}),"\n",(0,r.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'console.log(User.collectionName)\n// "User"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"namespace",children:"namespace"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"namespace"}),": ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L513",children:"model/model.ts:513"})]}),"\n",(0,r.jsx)(n.p,{children:"Return string value with the model context"}),"\n",(0,r.jsx)(n.h4,{id:"example-2",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"console.log(User.namespace)\n// `travel-sample`.`inventory`.`user`\n"})}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"count",children:"count()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"count"}),"(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L70",children:"model/model.ts:70"})]}),"\n",(0,r.jsx)(n.p,{children:"Returns the number of documents that match the query."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"filter",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"options-1",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"CountOptions"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-3",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'User.count({ name: { $like: "%Jane%" } })\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"create",children:"create()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"create"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">(",(0,r.jsx)(n.code,{children:"doc"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L110",children:"model/model.ts:110"})]}),"\n",(0,r.jsx)(n.p,{children:"Creates a new document."}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"doc",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"doc-1",children:"doc"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Doc"})}),"\n",(0,r.jsx)(n.h5,{id:"options-2",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/saveOptions",children:(0,r.jsx)(n.code,{children:"saveOptions"})})}),"\n",(0,r.jsx)(n.h4,{id:"returns-2",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">>"]}),"\n",(0,r.jsx)(n.h4,{id:"example-4",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const user = await User.create({ name: "John Doe" });\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"createmany",children:"createMany()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"createMany"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"docs"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/classes/ManyQueryResponse",children:(0,r.jsx)(n.code,{children:"ManyQueryResponse"})}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L122",children:"model/model.ts:122"})]}),"\n",(0,r.jsx)(n.p,{children:"Creates many documents at once."}),"\n",(0,r.jsxs)(n.p,{children:["The response status will be ",(0,r.jsx)(n.strong,{children:"SUCCESS"})," as long as no error occurs, otherwise it will be ",(0,r.jsx)(n.strong,{children:"FAILURE"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-2",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"doc-2",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h5,{id:"result",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"docs",children:"docs"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," | ",(0,r.jsx)(n.code,{children:"Doc"}),"[]"]}),"\n",(0,r.jsx)(n.h5,{id:"options-3",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/saveOptions",children:(0,r.jsx)(n.code,{children:"saveOptions"})})}),"\n",(0,r.jsx)(n.h4,{id:"returns-3",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/classes/ManyQueryResponse",children:(0,r.jsx)(n.code,{children:"ManyQueryResponse"})}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>>"]}),"\n",(0,r.jsx)(n.h4,{id:"example-5",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const user = await User.createMany([{ name: "John Doe" }, { name: "Jane Doe" }]);\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"dropcollection",children:"dropCollection()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"dropCollection"}),"(",(0,r.jsx)(n.code,{children:"collectionName?"}),", ",(0,r.jsx)(n.code,{children:"scopeName?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L531",children:"model/model.ts:531"})]}),"\n",(0,r.jsx)(n.p,{children:"dropCollection drops a collection from a scope in a bucket."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"collectionname-1",children:"collectionName?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"scopename",children:"scopeName?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"options-4",children:"options?"}),"\n",(0,r.jsx)(n.h6,{id:"timeout",children:"timeout?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"number"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-4",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"undefined"})," | ",(0,r.jsx)(n.code,{children:"boolean"}),">"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"find",children:"find()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"find"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L60",children:"model/model.ts:60"})]}),"\n",(0,r.jsx)(n.p,{children:"Finds documents."}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-3",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"doc-3",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-5",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"filter-1",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"options-5",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/FindOptions",children:(0,r.jsx)(n.code,{children:"FindOptions"})})}),"\n",(0,r.jsx)(n.h4,{id:"returns-5",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"any"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-6",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'User.find({ name: "Jane" })\n// will return a list of all users with the name "Jane"\n\nUser.find({ name: "Jane" }, { limit: 10 })\n// will return a list of all users with the name "Jane" and limited to 10 items\n\nUser.find({ name: "Jane" }, { ignoreCase: true })\n// will return a list of all users with the name "Jane" ignoring case\n\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const filter = {\n$or: [{ price: { $gt: 'amount_val', $isNotNull: true } }, { auto: { $gt: 10 } }, { amount: 10 }],\n$and: [\n  { price2: { $gt: 1.99, $isNotNull: true } },\n  { $or: [{ price3: { $gt: 1.99, $isNotNull: true } }, { id: '20' }] },\n  {name: { $eq: 'John', $ignoreCase: true }}\n ],\n};\nUser.find(filter)\n// Returns a list of the elements that match the applied filters.\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"findbyid",children:"findById()"}),"\n",(0,r.jsx)(n.h4,{id:"call-signature",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findById"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L84",children:"model/model.ts:84"})]}),"\n",(0,r.jsx)(n.p,{children:"Retrieves a document by id."}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-4",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"result-1",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-6",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"id",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h6,{id:"options-6",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/FindByIdOptions",children:(0,r.jsx)(n.code,{children:"FindByIdOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-6",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"example-7",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"User.findById('userId')\n// will return the user document by id.\n\nUser.findById('userId', {select: 'name, cards', populate: 'cards'})\n// will return the user document by id with only the fields name, and cards populated.\n"})}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-1",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findById"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L85",children:"model/model.ts:85"})]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-5",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"result-2",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-7",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"id-1",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h6,{id:"options-7",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/FindByIdOptions",children:(0,r.jsx)(n.code,{children:"FindByIdOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-7",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"findone",children:"findOne()"}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-2",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findOne"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L99",children:"model/model.ts:99"})]}),"\n",(0,r.jsx)(n.p,{children:"Finds a document."}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-6",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"doc-4",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-3",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-8",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"filter-2",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-8",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/FindOptions",children:(0,r.jsx)(n.code,{children:"FindOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-8",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"example-8",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'User.findOne({ name: "Jane" })\n// will return a document with a User name of "Jane", or if it doesn\'t exist, throw a DocumentNotFoundError exception.\n\nUser.findOne({ name: "Jane" }, { ignoreCase: true })\n// will return a document with a User name of "Jane", ignoring the case.\n'})}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-3",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findOne"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L100",children:"model/model.ts:100"})]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-7",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"doc-5",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-4",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-9",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"filter-3",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-9",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/FindOptions",children:(0,r.jsx)(n.code,{children:"FindOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-9",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"findoneandremove",children:"findOneAndRemove()"}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-4",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findOneAndRemove"}),"<",(0,r.jsx)(n.code,{children:"Query"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L491",children:"model/model.ts:491"})]}),"\n",(0,r.jsx)(n.p,{children:"Finds a document that matches the conditions of the collection and remove it."}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-8",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"query",children:"Query"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Query"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-5",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-10",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"filter-4",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Query"}),">"]}),"\n",(0,r.jsxs)(n.p,{children:["Filter Condition ",(0,r.jsx)(n.a,{href:"/docs/api/classes/query.html#where",children:"Where Expression"})]}),"\n",(0,r.jsx)(n.h5,{id:"returns-10",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"example-9",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const result = await User.findOneAndRemove({ name: { $like: '%John Doe%' } })\n"})}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-5",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findOneAndRemove"}),"<",(0,r.jsx)(n.code,{children:"Query"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L492",children:"model/model.ts:492"})]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-9",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"query-1",children:"Query"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Query"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-6",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-11",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"filter-5",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Query"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"returns-11",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"findoneandupdate",children:"findOneAndUpdate()"}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-6",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findOneAndUpdate"}),"<",(0,r.jsx)(n.code,{children:"Query"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"doc?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L468",children:"model/model.ts:468"})]}),"\n",(0,r.jsx)(n.p,{children:"Finds a document that matches the conditions of the collection and updates it."}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-10",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"query-2",children:"Query"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Query"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-7",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-12",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"filter-6",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Query"}),">"]}),"\n",(0,r.jsxs)(n.p,{children:["Filter Condition ",(0,r.jsx)(n.a,{href:"/docs/api/classes/query.html#where",children:"Where Expression"})]}),"\n",(0,r.jsx)(n.h6,{id:"doc-6",children:"doc?"}),"\n",(0,r.jsx)(n.p,{children:"Values for the fields to update"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," | ",(0,r.jsx)(n.code,{children:"Partial"}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-10",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/FindOneAndUpdateOption",children:(0,r.jsx)(n.code,{children:"FindOneAndUpdateOption"})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/findoneandupdateoption.html",children:"FindOneAndUpdateOptions"})}),"\n",(0,r.jsxs)(n.p,{children:["Return a ",(0,r.jsx)(n.a,{href:"/docs/api/classes/model.html",children:"Model"})," if at least one item matching the condition, otherwise an ",(0,r.jsx)(n.a,{href:"https://docs.couchbase.com/sdk-api/couchbase-node-client/classes/DocumentNotFoundError.html",children:"exception"})," will be thrown.\nIf options.new is ",(0,r.jsx)(n.strong,{children:"true"})," return the document after update otherwise by default return the document before update.\nIf options.upsert is ",(0,r.jsx)(n.strong,{children:"true"})," insert a document if the document does not exist.\noptions.strict used for strategy to apply on immutables properties"]}),"\n",(0,r.jsx)(n.h5,{id:"returns-12",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const result = await User.findOneAndUpdate({ name: { $like: '%John Doe%' } }, { name: \"John\" })\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const cardData = {\n cardNumber: '5678 5678 5678 5678',\n zipCode: '56789',\n};\n\nconst cardDataUpdate = {\n cardNumber: '4321 4321 4321 4321',\n zipCode: '43210',\n};\n\nconst CardSchema = new Schema({\n cardNumber: { type: String, immutable: true },\n zipCode: String,\n});\nconst Card = model('Card', CardSchema);\nconst {id} = await Card.create(cardData);\n\n// with strategy:CAST_STRATEGY.THROW\nawait Card.findOneAndUpdate({ cardNumber: { $like: '%5678 5678 5678 5678%' } }, cardDataUpdate, {\n  new: true,\n  strict: CAST_STRATEGY.THROW,\n});\n// ImmutableError: Field 'cardNumber' is immutable and current cast strategy is set to 'throw'\n\n// with strategy:true (default)\nawait Card.findOneAndUpdate({ cardNumber: { $like: '%5678 5678 5678 5678%' } }, cardDataUpdate, {\n  new: true,\n  strict: true,\n});\nconst result = await Card.findById(id);\nconsole.log(result); // {cardNumber:'5678 5678 5678 5678', zipCode:'43210'} only zipCode was changed\n\n// with strategy:false\nawait Card.findOneAndUpdate({ cardNumber: { $like: '%5678 5678 5678 5678%' } }, cardDataUpdate, {\n  new: true,\n  strict: false,\n});\nconst result = await Card.findById(id);\nconsole.log(result); // {cardNumber:'4321 4321 4321 4321', zipCode:'43210'} all properties were changed\n"})}),"\n",(0,r.jsx)(n.h5,{id:"throws",children:"Throws"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ImmutableError"})," if findOneAndUpdate is strict",":CAST_STRATEGY",".THROW and try to modify a immutable property."]}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-7",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"findOneAndUpdate"}),"<",(0,r.jsx)(n.code,{children:"Query"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"doc?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L474",children:"model/model.ts:474"})]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-11",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"query-3",children:"Query"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Query"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-8",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-13",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"filter-7",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Query"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"doc-7",children:"doc?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," | ",(0,r.jsx)(n.code,{children:"Partial"}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-11",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/FindOneAndUpdateOption",children:(0,r.jsx)(n.code,{children:"FindOneAndUpdateOption"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-13",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"fromdata",children:"fromData()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"fromData"}),"(",(0,r.jsx)(n.code,{children:"data"}),"): ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/ModelTypes",children:(0,r.jsx)(n.code,{children:"ModelTypes"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L263",children:"model/model.ts:263"})]}),"\n",(0,r.jsxs)(n.p,{children:["Creates a ",(0,r.jsx)(n.a,{href:"/docs/api/classes/document",children:"document"})," from the given data.\nResult will be the same that -> new Model(data)"]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-14",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"data-1",children:"data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," | ",(0,r.jsx)(n.code,{children:"Partial"}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"returns-14",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/ModelTypes",children:(0,r.jsx)(n.code,{children:"ModelTypes"})}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h4,{id:"example-10",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const user = User.fromData({name: "John Doe"});\n// we create a `user` document, but it isn\'t saved yet.\n\nawait user.save();\n// Now user was persisted to DB\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"query-4",children:"query()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"query"}),"(",(0,r.jsx)(n.code,{children:"params"}),"): ",(0,r.jsx)(n.a,{href:"/docs/api/classes/Query",children:(0,r.jsx)(n.code,{children:"Query"})})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L503",children:"model/model.ts:503"})]}),"\n",(0,r.jsxs)(n.p,{children:["Return a ",(0,r.jsx)(n.a,{href:"/docs/api/classes/query",children:"Query"})," instance in the model context"]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-15",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"params",children:"params"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/IConditionExpr",children:(0,r.jsx)(n.code,{children:"IConditionExpr"})})}),"\n",(0,r.jsx)(n.h4,{id:"returns-15",children:"Returns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/Query",children:(0,r.jsx)(n.code,{children:"Query"})})}),"\n",(0,r.jsx)(n.h4,{id:"example-11",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const query = User.query({name: 'John Smith'})\nconsole.log(query.build())\n// select * from `travel-sample`.`inventory`.`user` where name = 'John Smith'\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"removebyid",children:"removeById()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"removeById"}),"(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<{ ",(0,r.jsx)(n.code,{children:"cas"}),": ",(0,r.jsx)(n.code,{children:"any"}),"; }>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L248",children:"model/model.ts:248"})]}),"\n",(0,r.jsx)(n.p,{children:"Removes a document by id."}),"\n",(0,r.jsx)(n.h4,{id:"parameters-16",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"id-2",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h5,{id:"options-12",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"CountOptions"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-16",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<{ ",(0,r.jsx)(n.code,{children:"cas"}),": ",(0,r.jsx)(n.code,{children:"any"}),"; }>"]}),"\n",(0,r.jsx)(n.h4,{id:"example-12",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const result = await User.removeById('userId');\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"removemany",children:"removeMany()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"removeMany"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/classes/ManyQueryResponse",children:(0,r.jsx)(n.code,{children:"ManyQueryResponse"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L282",children:"model/model.ts:282"})]}),"\n",(0,r.jsx)(n.p,{children:"Deletes all of the documents that match conditions from the collection."}),"\n",(0,r.jsxs)(n.p,{children:["The response status will be ",(0,r.jsx)(n.strong,{children:"SUCCESS"})," as long as no error occurs, otherwise it will be ",(0,r.jsx)(n.strong,{children:"FAILURE"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-12",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"doc-8",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h5,{id:"result-9",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"string"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-17",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"filter-8",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsxs)(n.p,{children:["Filter Condition ",(0,r.jsx)(n.a,{href:"/docs/api/classes/query.html",children:"Where Expression"})]}),"\n",(0,r.jsx)(n.h5,{id:"options-13",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/FindOptions",children:(0,r.jsx)(n.code,{children:"FindOptions"})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/classes/findoptions.html#class-findoptions",children:"Find Options"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-17",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/classes/ManyQueryResponse",children:(0,r.jsx)(n.code,{children:"ManyQueryResponse"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.h4,{id:"example-13",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const result = await User.removeMany({ name: { $like: '%John Doe%' } })\n// Could also use:\nconst result = await User.removeMany({ name:'John Doe' }, { ignoreCase: true })\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"replacebyid",children:"replaceById()"}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-8",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"replaceById"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"data"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L228",children:"model/model.ts:228"})]}),"\n",(0,r.jsxs)(n.p,{children:["Same as ",(0,r.jsx)(n.strong,{children:"updateById"}),", except it replaces the existing document with the given document."]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-13",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"doc-9",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-10",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-18",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"id-3",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h6,{id:"data-2",children:"data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," | ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-14",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/MutationFunctionOptions",children:(0,r.jsx)(n.code,{children:"MutationFunctionOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-18",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"examples-1",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const user = await User.replaceById('userId', {name: \"John Doe\"});\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const cardData = {\n cardNumber: '5678 5678 5678 5678',\n zipCode: '56789',\n};\n\nconst cardDataUpdate = {\n cardNumber: '4321 4321 4321 4321',\n zipCode: '43210',\n};\n\nconst CardSchema = new Schema({\n cardNumber: { type: String, immutable: true },\n zipCode: String,\n});\nconst Card = model('Card', CardSchema);\nconst {id} = await Card.create(cardData);\n\n// with strategy:CAST_STRATEGY.THROW\nawait Card.replaceById(id, cardDataUpdate, { strict: CAST_STRATEGY.THROW });\n// ImmutableError: Field 'cardNumber' is immutable and current cast strategy is set to 'throw'\n\n// with strategy:true (default)\nawait Card.replaceById(id, cardDataUpdate, { strict: true });\nconst result = await Card.findById(id);\nconsole.log(result); // {cardNumber:'5678 5678 5678 5678', zipCode:'43210'} only zipCode was changed\n\n// with strategy:false\nawait Card.replaceById(id, cardDataUpdate, { strict: false });\nconst result = await Card.findById(id);\nconsole.log(result); // {cardNumber:'4321 4321 4321 4321', zipCode:'43210'} all properties were changed\n"})}),"\n",(0,r.jsx)(n.h5,{id:"throws-1",children:"Throws"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DocumentNotFoundError"})," if the document not exist."]}),"\n",(0,r.jsx)(n.h5,{id:"throws-2",children:"Throws"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ImmutableError"})," if replaceById is strict",":CAST_STRATEGY",".THROW and try to modify a immutable property."]}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-9",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"replaceById"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"data"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L234",children:"model/model.ts:234"})]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-14",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"doc-10",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-11",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-19",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"id-4",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h6,{id:"data-3",children:"data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," | ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-15",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/MutationFunctionOptions",children:(0,r.jsx)(n.code,{children:"MutationFunctionOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-19",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"updatebyid",children:"updateById()"}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-10",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"updateById"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"data"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L171",children:"model/model.ts:171"})]}),"\n",(0,r.jsx)(n.p,{children:"Updates a document."}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-15",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"doc-11",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-12",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-20",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"id-5",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h6,{id:"data-4",children:"data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," | ",(0,r.jsx)(n.code,{children:"Partial"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),"> | ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-16",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/MutationFunctionOptions",children:(0,r.jsx)(n.code,{children:"MutationFunctionOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-20",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.code,{children:"Result"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"examples-2",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const user = await User.updateById('userId', {name: \"John Doe\"});\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const cardData = {\n cardNumber: '5678 5678 5678 5678',\n zipCode: '56789',\n};\n\nconst cardDataUpdate = {\n cardNumber: '4321 4321 4321 4321',\n zipCode: '43210',\n};\n\nconst CardSchema = new Schema({\n cardNumber: { type: String, immutable: true },\n zipCode: String,\n});\nconst Card = model('Card', CardSchema);\nconst {id} = await Card.create(cardData);\n\n// with strategy:CAST_STRATEGY.THROW\nawait Card.updateById(id, cardDataUpdate, { strict: CAST_STRATEGY.THROW });\n// ImmutableError: Field 'cardNumber' is immutable and current cast strategy is set to 'throw'\n\n// with strategy:true (default)\nawait Card.updateById(id, cardDataUpdate, { strict: true });\nconst result = await Card.findById(id);\nconsole.log(result); // {cardNumber:'5678 5678 5678 5678', zipCode:'43210'} only zipCode was changed\n\n// with strategy:false\nawait Card.updateById(id, cardDataUpdate, { strict: false });\nconst result = await Card.findById(id);\nconsole.log(result); // {cardNumber:'4321 4321 4321 4321', zipCode:'43210'} all properties were changed\n"})}),"\n",(0,r.jsx)(n.h5,{id:"throws-3",children:"Throws"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ImmutableError"})," if updateById is strict",":CAST_STRATEGY",".THROW and try to modify a immutable property."]}),"\n",(0,r.jsx)(n.h4,{id:"call-signature-11",children:"Call Signature"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"updateById"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"id"}),", ",(0,r.jsx)(n.code,{children:"data"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L177",children:"model/model.ts:177"})]}),"\n",(0,r.jsx)(n.h5,{id:"type-parameters-16",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"doc-12",children:"Doc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h6,{id:"result-13",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"R"})]}),"\n",(0,r.jsx)(n.h5,{id:"parameters-21",children:"Parameters"}),"\n",(0,r.jsx)(n.h6,{id:"id-6",children:"id"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),"\n",(0,r.jsx)(n.h6,{id:"data-5",children:"data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Doc"})," | ",(0,r.jsx)(n.code,{children:"Partial"}),"<",(0,r.jsx)(n.code,{children:"Doc"}),"> | ",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Doc"}),">"]}),"\n",(0,r.jsx)(n.h6,{id:"options-17",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/MutationFunctionOptions",children:(0,r.jsx)(n.code,{children:"MutationFunctionOptions"})})}),"\n",(0,r.jsx)(n.h5,{id:"returns-21",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"updatemany",children:"updateMany()"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"updateMany"}),"<",(0,r.jsx)(n.code,{children:"Query"}),", ",(0,r.jsx)(n.code,{children:"Result"}),">(",(0,r.jsx)(n.code,{children:"filter?"}),", ",(0,r.jsx)(n.code,{children:"doc?"}),", ",(0,r.jsx)(n.code,{children:"options?"}),"): ",(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/classes/ManyQueryResponse",children:(0,r.jsx)(n.code,{children:"ManyQueryResponse"})}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>>"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Defined in: ",(0,r.jsx)(n.a,{href:"https://github.com/couchbaselabs/node-ottoman/blob/e4a91a4bdf06c956786a77fdc585b371d9e9cba4/src/model/model.ts#L399",children:"model/model.ts:399"})]}),"\n",(0,r.jsx)(n.p,{children:"Updates all of the documents that match conditions from the collection."}),"\n",(0,r.jsxs)(n.p,{children:["The response status will be ",(0,r.jsx)(n.strong,{children:"SUCCESS"})," as long as no error occurs, otherwise it will be ",(0,r.jsx)(n.strong,{children:"FAILURE"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"type-parameters-17",children:"Type Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"query-5",children:"Query"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Query"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h5,{id:"result-14",children:"Result"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Result"})," = ",(0,r.jsx)(n.code,{children:"T"})]}),"\n",(0,r.jsx)(n.h4,{id:"parameters-22",children:"Parameters"}),"\n",(0,r.jsx)(n.h5,{id:"filter-9",children:"filter?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/LogicalWhereExpr",children:(0,r.jsx)(n.code,{children:"LogicalWhereExpr"})}),"<",(0,r.jsx)(n.code,{children:"Query"}),">"]}),"\n",(0,r.jsxs)(n.p,{children:["Filter Condition ",(0,r.jsx)(n.a,{href:"/docs/api/classes/query.html",children:"Where Expression"})]}),"\n",(0,r.jsx)(n.h5,{id:"doc-13",children:"doc?"}),"\n",(0,r.jsx)(n.p,{children:"Values for the fields to update"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"T"})," | ",(0,r.jsx)(n.code,{children:"Partial"}),"<",(0,r.jsx)(n.code,{children:"T"}),">"]}),"\n",(0,r.jsx)(n.h5,{id:"options-18",children:"options?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/UpdateManyOptions",children:(0,r.jsx)(n.code,{children:"UpdateManyOptions"})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/docs/api/interfaces/updatemanyoptions.html",children:"Update Many Options"})}),"\n",(0,r.jsx)(n.h4,{id:"returns-22",children:"Returns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Promise"}),"<",(0,r.jsx)(n.a,{href:"/docs/api/classes/ManyQueryResponse",children:(0,r.jsx)(n.code,{children:"ManyQueryResponse"})}),"<",(0,r.jsx)(n.a,{href:"/docs/api/type-aliases/IDocument",children:(0,r.jsx)(n.code,{children:"IDocument"})}),"<",(0,r.jsx)(n.code,{children:"Result"}),">>>"]}),"\n",(0,r.jsx)(n.h4,{id:"examples-3",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const result = await User.updateMany({ name: { $like: '%John Doe%' } })\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'\n // Function helper for example\nasync function updateManyHelper(result: any[], strict: ApplyStrategy = true) {\n // First define the schema\n const CardSchema = new Schema({\n   cardNumber: String,\n   zipCode: { type: String, immutable: true },\n });\n\n //The model is created\n const Card = model(\'CardMany\', CardSchema);\n\n // Created elements are stored here\n let card1;\n let card2;\n\n const batchCreate = async () => {\n   card1 = await Card.create({ cardNumber: \'5678 5678 1111 1111\', zipCode: \'11111\' });\n   card2 = await Card.create({ cardNumber: \'5678 5678 2222 2222\', zipCode: \'22222\' });\n };\n\n // Create elements\n await batchCreate();\n\n // Update by some criteria\n const response: IManyQueryResponse = await Card.updateMany(\n      { cardNumber: { $like: \'%5678 5678%\' } },\n      { zipCode: \'12345\', cardNumber: \'0000 0000 0000 0000\' },\n      { strict },\n   );\n   const result1 = await Card.findById(card1.id);\n   const result2 = await Card.findById(card2.id);\n\n   // Reset data before end test round\n   const cleanUp = async () => await Card.removeMany({ _type: \'CardMany\' });\n   await cleanUp();\n\n   // Return results and response\n   result.push(result1, result2, response);\n }\n\n // Store data to check response on each round\nlet result: any[] = [];\n\nasync function testRounds(){\n\n // Round 1: updateMany with strategy:false\n await updateManyHelper(result, false);\n const [result1, result2, response] = result;\n console.log(result1);  // {"cardNumber":"0000 0000 0000 0000","zipCode":"12345"} both properties have been changed\n console.log(result2);  // {"cardNumber":"0000 0000 0000 0000","zipCode":"12345"} both properties have been changed\n console.log(response); // {"status":"SUCCESS","message":{"success":2,"match_number":2,"errors":[]}}\n result = [];\n\n // Round 2: updateMany with strategy:true\n await updateManyHelper(result, true);\n const [result1, result2, response] = result;\n console.log(result1);  // {"cardNumber":"0000 0000 0000 0000","zipCode":"11111"} only cardNumber has changed\n console.log(result2);  // {"cardNumber":"0000 0000 0000 0000","zipCode":"22222"} only cardNumber has changed\n console.log(response); // {"status":"SUCCESS","message":{"success":2,"match_number":2,"errors":[]}}\n result = [];\n\n // Round 3: updateMany with strategy:CAST_STRATEGY.THROW\n await updateManyHelper(result, CAST_STRATEGY.THROW);\n const [result1, result2, response] = result;\n console.log(result1);  // {"cardNumber":"5678 5678 1111 1111","zipCode":"11111"} only cardNumber has changed\n console.log(result2);  // {"cardNumber":"5678 5678 2222 2222","zipCode":"22222"} only cardNumber has changed\n console.log(response); // {"status":"SUCCESS","message":{"success":2,"match_number":2,"errors":[]}}\n result = [];\n\n // RESPONSE FAILURE\n // {\n //   "status": "FAILURE",\n //   "message": {\n //       "success": 0,\n //       "match_number": 2,\n //       "errors": [\n //           {\n //               "status": "FAILURE",\n //               "exception": "ImmutableError",\n //               "message": "Field \'zipCode\' is immutable and current cast strategy is set to \'throw\'"\n //           },\n //           {\n //               "status": "FAILURE",\n //               "exception": "ImmutableError",\n //               "message": "Field \'zipCode\' is immutable and current cast strategy is set to \'throw\'"\n //           }\n //       ]\n //   }\n // }\n }\n// Test rounds are run\ntestRounds();\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var d=s(6540);const r={},l=d.createContext(r);function i(e){const n=d.useContext(l);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);