<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-faq">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">FAQ | Ottoman.js</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ottomanjs.com/docs/faq"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FAQ | Ottoman.js"><meta data-rh="true" name="description" content="Before getting started with Ottoman, here are some useful questions and answers to what we think may help you get up and running quickly."><meta data-rh="true" property="og:description" content="Before getting started with Ottoman, here are some useful questions and answers to what we think may help you get up and running quickly."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ottomanjs.com/docs/faq"><link data-rh="true" rel="alternate" href="https://ottomanjs.com/docs/faq" hreflang="en"><link data-rh="true" rel="alternate" href="https://ottomanjs.com/docs/faq" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7WOJZA0GW8-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Ottoman.js" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f46c3be1.css">
<link rel="preload" href="/assets/js/runtime~main.c36c4121.js" as="script">
<link rel="preload" href="/assets/js/main.0cca8e5b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Ottoman Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Ottoman Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Ottoman</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/docs/quick-start">Quick Start</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Basic</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/basic/ottoman">Ottoman</a></li><li><a class="dropdown__link" href="/docs/basic/schema">Schema</a></li><li><a class="dropdown__link" href="/docs/basic/model">Model</a></li><li><a class="dropdown__link" href="/docs/basic/document">Document</a></li><li><a class="dropdown__link" href="/docs/basic/query-builder">Query Builder</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Advanced</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/advanced/fts">Full Text Search</a></li><li><a class="dropdown__link" href="/docs/advanced/transactions">Transactions</a></li><li><a class="dropdown__link" href="/docs/advanced/how-ottoman-works">How Ottoman Works</a></li><li><a class="dropdown__link" href="/docs/advanced/ottoman">Ottoman</a></li><li><a class="dropdown__link" href="/docs/advanced/mongoose-to-couchbase">Mongoose to Ottoman</a></li><li><a class="dropdown__link" href="/docs/advanced/ottoman-couchbase">Ottoman for Couchbase Node.js SDK devs</a></li><li><a class="dropdown__link" href="/docs/advanced/ottomanV1-to-ottomanV2">Ottoman V1 to Ottoman V2</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/cli">CLI</a><a class="navbar__item navbar__link" href="/docs/first-app">Example</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/faq">FAQ</a><a href="https://github.com/couchbaselabs/node-ottoman" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intoduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/basic/schema">Basic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/advanced/fts">Advanced</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/first-app">Building Your First App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cli">Command Line Tool</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api">API</a><button aria-label="Toggle the collapsible sidebar category &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FAQ</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>FAQ</h1><p>Before getting started with Ottoman, here are some useful questions and answers to what we think may help you get up and running quickly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-ottoman">What is Ottoman<a href="#what-is-ottoman" class="hash-link" aria-label="Direct link to What is Ottoman" title="Direct link to What is Ottoman">​</a></h2><p>Ottoman is an ODM (Object Document Mapper) for Couchbase. It leverages Couchbase Node.js SDK 3.x.</p><p>Like the name suggests it <em>“maps a document to an application object”</em>. ODM enables ways to define the structure of a document in the form of SCHEMAS and MODELS.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-can-ottoman-do-that-the-nodejs-sdk-cannot">What Can Ottoman Do That the NodeJS SDK Cannot?<a href="#what-can-ottoman-do-that-the-nodejs-sdk-cannot" class="hash-link" aria-label="Direct link to What Can Ottoman Do That the NodeJS SDK Cannot?" title="Direct link to What Can Ottoman Do That the NodeJS SDK Cannot?">​</a></h2><p>We have created a <a href="/docs/advanced/sdk-comparison">side-by-side comparison chart</a> of Ottoman v2.0 vs NodeJS SDK v3.2 to show the differences.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-is-an-odm-different-from-an-orm">How Is an ODM different from an ORM?<a href="#how-is-an-odm-different-from-an-orm" class="hash-link" aria-label="Direct link to How Is an ODM different from an ORM?" title="Direct link to How Is an ODM different from an ORM?">​</a></h2><p>ODM&#x27;s are very light weight powerful, focusing on mapping documents to your database through models defined in your application. ODM&#x27;s are specific to document based databases like Couchbase.</p><p>An ORM does a lot of heavy lifting. They maintain and track the state of each object and its respective field, and management of relationships that come with a performance overhead.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="is-ottoman-version-2-backward-compatible-with-version-1">Is Ottoman version 2 backward compatible with version 1?<a href="#is-ottoman-version-2-backward-compatible-with-version-1" class="hash-link" aria-label="Direct link to Is Ottoman version 2 backward compatible with version 1?" title="Direct link to Is Ottoman version 2 backward compatible with version 1?">​</a></h2><p>Ottoman 2.0 is written on top of the <a href="https://docs.couchbase.com/nodejs-sdk/current/hello-world/start-using-sdk.html" target="_blank" rel="noopener noreferrer">Couchbase Nodejs SDK 3.x</a> and enables support for Scopes and Collections as well as writing your applications in TypeScript. </p><p>Migration from other document databases is much more achievable as well as starting from a code first perspective. We&#x27;ve made a major overhaul in respect to the way bootstrapping occurs. Refer to the <a href="/docs/basic/ottoman.html#not-using-scopes-collections">Bootstrapping documentation</a> for more details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-benefits-of-using-ottoman">What are the benefits of using Ottoman?<a href="#what-are-the-benefits-of-using-ottoman" class="hash-link" aria-label="Direct link to What are the benefits of using Ottoman?" title="Direct link to What are the benefits of using Ottoman?">​</a></h2><p>An Object Document Mapper (ODM) like Ottoman allows for validation of schema and the application of quality controls on your JSON data. Since document databases like Couchbase are flexible considering schema, if one wants to put checks in place, an ODM is where you can do this.</p><p>Overall, Ottoman abstracts complexities from the official <a href="https://docs.couchbase.com/nodejs-sdk/current/hello-world/start-using-sdk.html" target="_blank" rel="noopener noreferrer">NodeJS SDK</a> and makes working with Couchbase easier.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-couchbase-server-features-that-ottoman-supports">What are the Couchbase Server features that Ottoman Supports?<a href="#what-are-the-couchbase-server-features-that-ottoman-supports" class="hash-link" aria-label="Direct link to What are the Couchbase Server features that Ottoman Supports?" title="Direct link to What are the Couchbase Server features that Ottoman Supports?">​</a></h2><p>Ottoman version 2 provides support for <a href="https://docs.couchbase.com/nodejs-sdk/current/howtos/kv-operations.html" target="_blank" rel="noopener noreferrer">Key Value</a> and <a href="https://docs.couchbase.com/nodejs-sdk/current/howtos/n1ql-queries-with-sdk.html" target="_blank" rel="noopener noreferrer">Query (N1QL Search)</a> services only. FTS, Analytics, and Eventing are not yet supported.</p><p>When working with Ottoman, you can drop down to the SDK level to utilize the features of the official SDK and run in tandem with Ottoman. It&#x27;s worth noting that there is a workaround to use <a href="https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/searchfun.html" target="_blank" rel="noopener noreferrer">FTS via Query Service</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-the-bootstrapping-process-and-best-practices-associated-with-it">What is the bootstrapping process and best practices associated with it?<a href="#what-is-the-bootstrapping-process-and-best-practices-associated-with-it" class="hash-link" aria-label="Direct link to What is the bootstrapping process and best practices associated with it?" title="Direct link to What is the bootstrapping process and best practices associated with it?">​</a></h2><p>At a high-level, the bootstrapping process involves:</p><ul><li>Creating an Ottoman Instance</li><li>Defining Schema.</li><li>Declaring models</li><li>Call the start method.</li></ul><p>Points to consider when bootstrapping:</p><ul><li>Start method should always be called after all models have been declared.</li><li>The start method attempts to create scopes and collections (in Couchbase 7) and also any required Indexes.</li><li>Creation of Indexes is a resource-intensive process and as a best practice, every attempt should be made to create and build indexes outside Ottoman.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-indexes-created-by-ottoman">What are the indexes created by Ottoman?<a href="#what-are-the-indexes-created-by-ottoman" class="hash-link" aria-label="Direct link to What are the indexes created by Ottoman?" title="Direct link to What are the indexes created by Ottoman?">​</a></h2><p>Ottoman, by default, creates a Global Secondary Index (GSI) on the property <code>type</code> and is the most recommended Index type.</p><p>Ottoman also supports View Indexes and Refdoc Index, however; we recommend using them with extreme caution and only if needed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="is-there-a-sample-project-that-uses-vanilla-js">Is there a sample project that uses Vanilla JS?<a href="#is-there-a-sample-project-that-uses-vanilla-js" class="hash-link" aria-label="Direct link to Is there a sample project that uses Vanilla JS?" title="Direct link to Is there a sample project that uses Vanilla JS?">​</a></h2><p>We have a sample project that utilizes ExpressJS, Ottoman, and Swagger using Vanilla JS, <a href="https://github.com/couchbaselabs/try-ottoman" target="_blank" rel="noopener noreferrer">please refer to the example repo on GitHub</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="does-ottoman-provide-support-for-typescript">Does Ottoman provide support for Typescript?<a href="#does-ottoman-provide-support-for-typescript" class="hash-link" aria-label="Direct link to Does Ottoman provide support for Typescript?" title="Direct link to Does Ottoman provide support for Typescript?">​</a></h2><p><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a> is a first-class programming language when it comes to Ottoman. We have a sample project that utilizes ExpressJS, Ottoman, and Swagger using TypeScript, <a href="https://github.com/couchbaselabs/try-ottoman-ts" target="_blank" rel="noopener noreferrer">please refer to the example repo on GitHub</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-different-operations-in-ottoman-that-use-n1ql-queries-under-the-hood">What are the different operations in Ottoman that use N1QL Queries under the hood?<a href="#what-are-the-different-operations-in-ottoman-that-use-n1ql-queries-under-the-hood" class="hash-link" aria-label="Direct link to What are the different operations in Ottoman that use N1QL Queries under the hood?" title="Direct link to What are the different operations in Ottoman that use N1QL Queries under the hood?">​</a></h2><ul><li><a href="/docs/api/interfaces/imodel.html#find">find()</a></li><li><a href="/docs/api/interfaces/imodel.html#findone">findOne()</a></li><li><a href="/docs/api/interfaces/imodel.html#findoneandupdate">findOneAndUpdate()</a></li><li><a href="/docs/api/interfaces/imodel.html#removemany">removeMany()</a></li><li><a href="/docs/api/interfaces/imodel.html#updatemany">updateMany()</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-ottomans-compatibility-with-couchbase-server">What is Ottoman’s compatibility with Couchbase Server?<a href="#what-is-ottomans-compatibility-with-couchbase-server" class="hash-link" aria-label="Direct link to What is Ottoman’s compatibility with Couchbase Server?" title="Direct link to What is Ottoman’s compatibility with Couchbase Server?">​</a></h2><p>Ottoman fully supports and is tested with Couchbase server 6.x and 7.x as well as <a href="https://www.couchbase.com/products/cloud" target="_blank" rel="noopener noreferrer">Couchbase Cloud</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-just-created-a-document-but-the-find-method-doesnt-return-the-document-is-this-a-bug">I just created a document but the find method doesn&#x27;t return the document, is this a bug?<a href="#i-just-created-a-document-but-the-find-method-doesnt-return-the-document-is-this-a-bug" class="hash-link" aria-label="Direct link to I just created a document but the find method doesn&#x27;t return the document, is this a bug?" title="Direct link to I just created a document but the find method doesn&#x27;t return the document, is this a bug?">​</a></h2><p>No, when documents are created and attempted to be retrieved via non-kv operations like <code>.find()</code> are eventually consistent. You will have to pass <code>findOption</code> for <code>searchConsistency</code> as  <code>REQUEST_PLUS</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-upsert-a-document">Can I upsert a document?<a href="#can-i-upsert-a-document" class="hash-link" aria-label="Direct link to Can I upsert a document?" title="Direct link to Can I upsert a document?">​</a></h2><p>Model method <a href="/docs/api/interfaces/imodel.html#findoneandupdate">findOneAndUpdate</a> allows you to upsert a document by passing in an option called <code>upsert</code> with a value of <code>true</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-make-certain-fields-immutable">Can I make certain fields immutable?<a href="#can-i-make-certain-fields-immutable" class="hash-link" aria-label="Direct link to Can I make certain fields immutable?" title="Direct link to Can I make certain fields immutable?">​</a></h2><p>Yes, with Ottoman any field declared in a Schema as immutable will remain unchanged. However, this behavior can be overridden by passing in a strict option at the Schema level or at a Model method level.</p><ul><li>A strict option of false will allow you to update an immutable field.  </li><li>A strict option of throw will throw an exception for any attempt made to update an immutable field.  </li><li>By default the strict option is set to true, i.e any attempt to update an immutable field will be simply ignored.</li></ul><p>You can find more info in our <a href="/docs/basic/schema.html#schema-types-immutable-option">Schema Types Immutable Option</a> documentation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-do-a-select-with-populate">Can I do a select with populate?<a href="#can-i-do-a-select-with-populate" class="hash-link" aria-label="Direct link to Can I do a select with populate?" title="Direct link to Can I do a select with populate?">​</a></h2><p>Yes, in Ottoman version 2 you can select certain fields while populating a referenced object.</p><p>You can find more info in our <a href="/docs/basic/schema.html#schema-types-immutable-option">_populate</a> documentation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-lean-and-when-should-you-use-lean">What is lean and when should you use lean?<a href="#what-is-lean-and-when-should-you-use-lean" class="hash-link" aria-label="Direct link to What is lean and when should you use lean?" title="Direct link to What is lean and when should you use lean?">​</a></h2><p>The <a href="/docs/basic/model.html#use-of-lean">lean option</a> tells Ottoman to skip a lot of internal state tracking of the result documents. This makes queries faster and less memory intensive, but the result documents are plain old JavaScript objects (POJOs), not Ottoman documents.</p><p>Use Lean when you don’t need to rely on Ottoman features like validators or hooks. For example, if you are executing queries and sending results without modification.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="does-ottoman-provide-additional-system-debugging-information">Does Ottoman provide additional system debugging information?<a href="#does-ottoman-provide-additional-system-debugging-information" class="hash-link" aria-label="Direct link to Does Ottoman provide additional system debugging information?" title="Direct link to Does Ottoman provide additional system debugging information?">​</a></h2><p>Yes, <a href="/docs/basic/ottoman.html#setting-environment-variables">setting the Environment variable</a> DEBUG to <code>true</code>, gives you additional debugging information.</p><p>As an example: while working with ottoman operations that use N1QL queries (under the hood) you might want to print the N1QL query generated so that you can identify and create necessary indexes.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/api/interfaces/saveOptions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">saveOptions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-ottoman" class="table-of-contents__link toc-highlight">What is Ottoman</a></li><li><a href="#what-can-ottoman-do-that-the-nodejs-sdk-cannot" class="table-of-contents__link toc-highlight">What Can Ottoman Do That the NodeJS SDK Cannot?</a></li><li><a href="#how-is-an-odm-different-from-an-orm" class="table-of-contents__link toc-highlight">How Is an ODM different from an ORM?</a></li><li><a href="#is-ottoman-version-2-backward-compatible-with-version-1" class="table-of-contents__link toc-highlight">Is Ottoman version 2 backward compatible with version 1?</a></li><li><a href="#what-are-the-benefits-of-using-ottoman" class="table-of-contents__link toc-highlight">What are the benefits of using Ottoman?</a></li><li><a href="#what-are-the-couchbase-server-features-that-ottoman-supports" class="table-of-contents__link toc-highlight">What are the Couchbase Server features that Ottoman Supports?</a></li><li><a href="#what-is-the-bootstrapping-process-and-best-practices-associated-with-it" class="table-of-contents__link toc-highlight">What is the bootstrapping process and best practices associated with it?</a></li><li><a href="#what-are-the-indexes-created-by-ottoman" class="table-of-contents__link toc-highlight">What are the indexes created by Ottoman?</a></li><li><a href="#is-there-a-sample-project-that-uses-vanilla-js" class="table-of-contents__link toc-highlight">Is there a sample project that uses Vanilla JS?</a></li><li><a href="#does-ottoman-provide-support-for-typescript" class="table-of-contents__link toc-highlight">Does Ottoman provide support for Typescript?</a></li><li><a href="#what-are-the-different-operations-in-ottoman-that-use-n1ql-queries-under-the-hood" class="table-of-contents__link toc-highlight">What are the different operations in Ottoman that use N1QL Queries under the hood?</a></li><li><a href="#what-is-ottomans-compatibility-with-couchbase-server" class="table-of-contents__link toc-highlight">What is Ottoman’s compatibility with Couchbase Server?</a></li><li><a href="#i-just-created-a-document-but-the-find-method-doesnt-return-the-document-is-this-a-bug" class="table-of-contents__link toc-highlight">I just created a document but the find method doesn&#39;t return the document, is this a bug?</a></li><li><a href="#can-i-upsert-a-document" class="table-of-contents__link toc-highlight">Can I upsert a document?</a></li><li><a href="#can-i-make-certain-fields-immutable" class="table-of-contents__link toc-highlight">Can I make certain fields immutable?</a></li><li><a href="#can-i-do-a-select-with-populate" class="table-of-contents__link toc-highlight">Can I do a select with populate?</a></li><li><a href="#what-is-lean-and-when-should-you-use-lean" class="table-of-contents__link toc-highlight">What is lean and when should you use lean?</a></li><li><a href="#does-ottoman-provide-additional-system-debugging-information" class="table-of-contents__link toc-highlight">Does Ottoman provide additional system debugging information?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Couchbase, Inc. Licensed under the Apache License, Version 2.0.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c36c4121.js"></script>
<script src="/assets/js/main.0cca8e5b.js"></script>
</body>
</html>